@import url('https://fonts.googleapis.com/css2?family=Quicksand:wght@400;600;700&family=Playfair+Display:wght@600&display=swap');

:root{
   --beige-1: #fbf7ec;
   --beige-2: #eef5ea;
   --leaf: #1d5f2f; 
   --mint: #7eb38b; 
   --muted: #6a7a68;
   --card: rgba(255, 255, 255, 0.95); 
   --shadow: 0 16px 40px rgba(18, 30, 20, 0.12); 
   --radius: 22px; 
   --btn-radius: 999px; 
   --accent-glow: rgba(126, 179, 139, 0.25);
   --glass: rgba(255, 255, 255, 0.7);
}



.timerDisplay, .progressBarInner {
    will-change: transform, opacity, color;
}

/* Update the container to center its contents */
.forestPreview {
    display: flex;
    flex-direction: column;
    align-items: center; /* Centers items horizontally */
    justify-content: center; /* Centers items vertically if there is extra height */
    width: 100%;
}

/* Ensure the stageBox itself is centered and has no odd margins */
.stageBox {
    margin: 10px auto 0 auto; /* Horizontal 'auto' ensures it centers in non-flex parents too */
    display: flex; 
    align-items: center; 
    justify-content: center;
    /* keep your existing styles below */
}

*{box-sizing:border-box}
html,body{
   height:100%;
   margin:0;
   font-family: 'Quicksand', sans-serif, system-ui; 
   color:#15311f;
   -webkit-font-smoothing:antialiased;
   overflow-x: hidden; 
   font-weight: 600; 
   background-color: var(--beige-1); 
   background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 100 100"><circle cx="50" cy="50" r="1" fill="%23dce4d9" opacity="0.5"/></svg>'); 
   background-repeat: repeat;
   background-attachment: fixed;
}
a{color:var(--leaf); text-decoration:none}
button{font-family:inherit; border:none}

.app { 
   max-width:1160px; 
   margin:28px auto; 
   padding:18px; 
   transform: translateY(-5px); 
}

.topbar{ display:flex; align-items:center; justify-content:space-between; gap:12px; position:sticky; top:18px; z-index:20; }
.brand{ display:flex; gap:12px; align-items:center; background:var(--card); padding:10px 14px; border-radius:18px; box-shadow:var(--shadow); }
.logo { width:50px; height:50px; border-radius:12px; background:linear-gradient(135deg,var(--mint),#4CAF50); display:flex; align-items:center; justify-content:center; box-shadow:0 8px 20px rgba(88,160,98,0.1); }
.brand h1{margin:0;font-family:'Playfair Display',serif;font-size:18px; color:var(--leaf)}
.brand p{margin:0;font-size:12px;color:var(--muted)}

.tabs { display:flex; gap:8px; align-items:center; }
.tab { 
   background:transparent; 
   border-radius:18px; 
   padding:12px 20px; 
   cursor:pointer; 
   font-weight:700; 
   color:var(--muted); 
   border:1px solid transparent; 
   transition:all .3s ease-in-out; 
}
.tab:hover{ color:var(--leaf); background:rgba(255,255,255,0.7); }
.tab.active{ 
   background:var(--card); 
   color:var(--leaf); 
   box-shadow:var(--shadow); 
   border-color: rgba(56,121,79,0.06); 
   transform: translateY(-2px);
}

.card { 
   background:var(--card); 
   border-radius:var(--radius); 
   padding:26px; 
   margin-top:22px; 
   box-shadow:var(--shadow); 
   transition: box-shadow .3s, transform .2s;
}

.grid { display:grid; grid-template-columns: 1fr 400px; gap:22px; align-items:start; }
@media (max-width:980px){ .grid{ grid-template-columns: 1fr; } .rightCol{ order:-1 } }

.timerWrap{ 
   padding:30px; 
   display:flex; 
   flex-direction:column; 
   align-items:center; 
   gap:18px; 
}
.timerTitle{ font-weight:800; font-size:24px; color:var(--leaf); margin:0 }
.timerDisplay{ 
   font-size: 100px; 
   font-weight:900; 
   color:var(--leaf); 
   background:linear-gradient(180deg,#fff,#f7fff4); 
   padding:20px 40px; 
   border-radius:30px; 
   box-shadow:0 15px 35px rgba(50,100,60,0.15);
   min-width:280px; 
   text-align:center;
   letter-spacing: -2px;
   border: 4px solid var(--mint); 
}
.progressBarOuter{ 
   width:320px;
   height:16px; 
   background:var(--glass); 
   border-radius:var(--btn-radius); 
   overflow:hidden; 
   box-shadow: inset 0 2px 8px rgba(0,0,0,0.05); 
   border:1px solid rgba(0,0,0,0.03) 
}
.progressBarInner{ 
   height:100%; 
   width:0%; 
   background:linear-gradient(90deg,var(--mint),var(--leaf)); 
   transition:width 320ms linear; 
   border-radius:var(--btn-radius);
}

.controls{ display:flex; gap:16px; align-items:center; margin-top:20px; flex-wrap:wrap; justify-content:center;}
.btnPrimary{ 
   background:linear-gradient(90deg,var(--mint),var(--leaf)); 
   color:#ffffff; 
   border:none; 
   padding:12px 24px; 
   border-radius:var(--btn-radius); 
   font-weight:800; 
   cursor:pointer; 
   box-shadow:0 15px 40px var(--accent-glow); 
}
.btnGhost{ 
   background:var(--glass); 
   border:1px solid rgba(21,49,31,0.1); 
   padding:10px 16px; 
   border-radius:16px; 
   cursor:pointer; 
   color:var(--leaf); 
   font-weight:700;
}

.presetRow{ display:flex; gap:10px; flex-wrap:wrap; justify-content:center; margin-top:10px }
.preset{ 
   padding:10px 16px; 
   border-radius:var(--btn-radius); 
   background:var(--glass); 
   border:1px solid rgba(0,0,0,0.08); 
   cursor:pointer; 
   font-weight:700; 
   color:var(--leaf);
}
.preset.active{ 
   box-shadow:0 10px 30px var(--accent-glow); 
   border-color: var(--mint);
   background: linear-gradient(180deg, #fff, #f6fff6);
}
.customInput{ 
   width:140px; 
   padding:12px 14px; 
   border-radius:18px; 
   border:1px solid rgba(0,0,0,0.1); 
   text-align:center; 
   font-weight: 700;
}

.stageBox{ 
   width:260px; 
   height:260px; 
   border-radius:var(--radius); 
   background:linear-gradient(180deg,#fff,#f4fff6); 
   display:flex; 
   align-items:center; 
   justify-content:center; 
   box-shadow:0 15px 40px rgba(0,0,0,0.06); 
   margin-top:10px; 
   font-size: 100px; /* Adjusted size */
   line-height: 1; /* Helps centering */
}

.stageCaption{ color:var(--muted); margin-top:10px; font-weight:700; font-size:14px; text-align:center; }

.gardenGrid{ width:100%; display:grid; grid-template-columns: repeat(3,1fr); gap:12px; }
@media (max-width:480px){ .gardenGrid{ grid-template-columns: repeat(2,1fr); } }


/* Tree Detail Overlay */
.modal-overlay {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    background: rgba(21, 49, 31, 0.4); backdrop-filter: blur(4px);
    display: none; align-items: center; justify-content: center; z-index: 2000;
}
.modal-card {
    background: var(--card); padding: 30px; border-radius: var(--radius);
    max-width: 320px; width: 90%; text-align: center; box-shadow: var(--shadow);
}
.gardenItem{ 
   background:linear-gradient(180deg,#fff,#f7fff2); 
   border-radius:16px; 
   padding:15px; 
   min-height:120px; 
   display:flex; 
   flex-direction:column; 
   align-items:center; 
   justify-content:center; 
   gap:4px; 
   box-shadow:0 8px 18px rgba(0,0,0,0.05); 
   text-align: center;
   cursor: pointer;
    transition: transform 0.2s ease;
}
.gardenItem:hover { transform: translateY(-5px); }
.gardenItem .status-label { font-size: 10px; text-transform: uppercase; letter-spacing: 1px; margin-top: 5px; opacity: 0.8; }
.name-input { 
    width: 100%; padding: 10px; margin-top: 15px; border-radius: 12px; 
    border: 1px solid rgba(0,0,0,0.1); font-family: inherit; text-align: center;
}


.gardenItem.dead-tree {
    background: #f0f0f0;
    opacity: 0.5;
    filter: grayscale(1);
    border: 1px dashed #ccc;
    box-shadow: none;
}

.tree-info { font-size: 11px; color: var(--muted); line-height: 1.3; }
.tree-length { font-weight: 700; color: var(--leaf); font-size: 10px; margin-top: 2px; }

.statsGrid{ display:grid; grid-template-columns:repeat(3,1fr); gap:16px; margin-top:16px; }
@media (max-width:820px){ .statsGrid{ grid-template-columns: 1fr; } }
.statCard{ 
   background:linear-gradient(180deg,#fff,#fbfff6); 
   padding:16px; 
   border-radius:16px; 
   box-shadow:0 8px 20px rgba(0,0,0,0.04); 
   text-align:center;
   border: 1px solid rgba(0,0,0,0.03);
}
.statNumber{ font-weight:900; font-size:32px; color:var(--leaf); margin-top:4px; }

/* WELCOME OVERLAY UPDATED: STATIC & SMOOTH */
.welcome-overlay {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    background: var(--beige-1);
    z-index: 1000; display: flex; flex-direction: column; align-items: center; justify-content: center; 
    transition: opacity 1.5s ease-in-out;
}
.welcome-overlay.hidden { opacity: 0; pointer-events: none; }
.welcome-content { text-align: center; }
.welcome-text-line { 
    opacity: 0; 
    margin: 10px 0; 
    transition: opacity 2s ease-in-out; 
}
.welcome-text-line.fade-in { opacity: 1; }

#line1 { font-size: 32px; font-family: 'Quicksand', color: var(--muted); font-weight: 400; }
#line2 { font-size: 84px; font-family: 'Quicksand', serif; color: var(--leaf); font-weight: 700; letter-spacing: 2px; }

.sparkle{ position:fixed; width:6px; height:6px; border-radius:50%; background:rgba(255,255,255,0.9); pointer-events:none; z-index:2 }

/* Add to styles.css */
.leaderboard-list {
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.leaderboard-item {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 16px;
  background: var(--glass);
  border-radius: 16px;
  border: 1px solid rgba(0,0,0,0.05);
  cursor: pointer;
  transition: all 0.3s ease;
}

.leaderboard-item:hover {
  background: white;
  transform: translateY(-2px);
  box-shadow: 0 8px 20px rgba(0,0,0,0.08);
}

.leaderboard-item .rank {
  font-weight: 800;
  font-size: 20px;
  color: var(--leaf);
  width: 40px;
  text-align: center;
}

.leaderboard-item .user-info {
  flex-grow: 1;
}

.leaderboard-item .username {
  font-weight: 800;
  color: var(--leaf);
}

.leaderboard-item .user-stats {
  font-size: 12px;
  color: var(--muted);
}

.leaderboard-item .forest-count {
  background: linear-gradient(90deg, var(--mint), var(--leaf));
  color: white;
  padding: 6px 12px;
  border-radius: 20px;
  font-weight: 800;
  font-size: 14px;
}

.forests-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
  gap: 12px;
  margin-top: 12px;
}

.forest-card {
  background: var(--glass);
  padding: 16px;
  border-radius: 16px;
  border: 1px solid rgba(0,0,0,0.05);
  cursor: pointer;
  text-align: center;
  transition: all 0.3s ease;
}

.forest-card:hover {
  background: white;
  transform: translateY(-3px);
  box-shadow: 0 8px 20px rgba(0,0,0,0.08);
}

.forest-card .forest-emoji {
  font-size: 40px;
  margin-bottom: 8px;
}

.forest-card .forest-date {
  font-weight: 800;
  color: var(--leaf);
  margin-bottom: 4px;
}

.forest-card .forest-stats {
  font-size: 12px;
  color: var(--muted);
}

.top-bar {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 20px;
}
.brand-group { display: flex; align-items: center; gap: 15px; }
.user-info-chip {
  background: var(--glass);
  padding: 6px 16px;
  border-radius: 50px;
  display: flex;
  align-items: center;
  gap: 12px;
  border: 1px solid rgba(0,0,0,0.05);
}
.custom-select {
  padding: 8px 12px;
  border-radius: 12px;
  border: 1px solid rgba(0,0,0,0.1);
  background: white;
  font-family: inherit;
  font-weight: 700;
  color: var(--leaf);
}
.btnPrimary.small { padding: 6px 12px; font-size: 12px; }
.playfair { font-family: 'Quicksand', serif; color: var(--leaf); margin: 0; }

/* Styling for the forest controls inside the tab */
#gardenTab .custom-select {
    min-width: 200px;
    border: 2px solid var(--mint);
}

#gardenTab #createNewForestBtn {
    box-shadow: 0 4px 12px var(--accent-glow);
}

/* Ensure the layout stacks nicely on mobile */
@media (max-width: 600px) {
    #gardenTab .card div {
        flex-direction: column;
        align-items: flex-start !important;
    }
    #gardenTab .custom-select {
        width: 100%;
    }
}

/* ... keep all your existing CSS above ... */

/* ==================== */
/* MOBILE RESPONSIVE STYLES */
/* ==================== */

/* Base responsive adjustments */
@media (max-width: 768px) {
    .app {
        margin: 12px auto;
        padding: 12px;
        transform: translateY(0);
    }
    
    /* Topbar mobile optimization */
    .topbar {
        flex-direction: column;
        gap: 12px;
        align-items: stretch;
        position: relative;
        top: 0;
    }
    
    .brand {
        padding: 12px 16px;
        border-radius: 16px;
        justify-content: center;
        text-align: center;
    }
    
    .logo {
        width: 44px;
        height: 44px;
    }
    
    .brand h1 {
        font-size: 16px;
    }
    
    .brand p {
        font-size: 11px;
    }
    
    /* Tabs mobile optimization */
    .tabs {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 8px;
        width: 100%;
    }
    
    .tab {
        padding: 12px 16px;
        font-size: 14px;
        text-align: center;
        border-radius: 14px;
    }
    
    /* Card mobile adjustments */
    .card {
        padding: 20px;
        margin-top: 18px;
        border-radius: 20px;
    }
    
    /* Grid mobile layout */
    .grid {
        grid-template-columns: 1fr;
        gap: 18px;
    }
    
    .rightCol {
        order: -1;
    }
    
    /* Timer mobile optimization */
    .timerWrap {
        padding: 20px 16px;
        gap: 16px;
    }
    
    .timerTitle {
        font-size: 20px;
        text-align: center;
    }
    
    .timerDisplay {
        font-size: 64px;
        padding: 16px 28px;
        min-width: auto;
        width: 100%;
        max-width: 280px;
        letter-spacing: -1px;
        border-width: 3px;
    }
    
    .progressBarOuter {
        width: 100%;
        max-width: 300px;
        height: 14px;
    }
    
    /* Controls mobile optimization */
    .controls {
        flex-direction: column;
        gap: 12px;
        margin-top: 16px;
    }
    
    .btnPrimary, .btnGhost {
        width: 100%;
        max-width: 280px;
        padding: 14px 20px;
        text-align: center;
    }
    
    /* Preset row mobile */
    .presetRow {
        gap: 8px;
    }
    
    .preset {
        padding: 10px 14px;
        font-size: 14px;
    }
    
    .customInput {
        width: 100%;
        max-width: 140px;
    }
    
    /* Stage box mobile */
    .stageBox {
        width: 220px;
        height: 220px;
        margin: 10px auto;
        font-size: 80px;
    }
    
    .stageCaption {
        font-size: 13px;
    }
    
    /* Garden grid mobile */
    .gardenGrid {
        grid-template-columns: repeat(2, 1fr);
        gap: 10px;
    }
    
    .gardenItem {
        min-height: 100px;
        padding: 12px;
        border-radius: 14px;
    }
    
    /* Stats grid mobile */
    .statsGrid {
        grid-template-columns: 1fr;
        gap: 12px;
    }
    
    .statCard {
        padding: 14px;
    }
    
    .statNumber {
        font-size: 28px;
    }
    
    /* Welcome overlay mobile */
    #line1 {
        font-size: 24px;
    }
    
    #line2 {
        font-size: 48px;
    }
    
    /* Leaderboard mobile optimization */
    .leaderboard-list {
        gap: 8px;
    }
    
    .leaderboard-item {
        padding: 12px;
        flex-direction: column;
        align-items: flex-start;
        gap: 8px;
    }
    
    .leaderboard-item .rank {
        width: auto;
        font-size: 18px;
        text-align: left;
    }
    
    .leaderboard-item .user-info {
        width: 100%;
    }
    
    .leaderboard-item .forest-count {
        align-self: flex-end;
        margin-top: -30px;
        font-size: 12px;
        padding: 4px 10px;
    }
    
    /* Forests grid mobile */
    .forests-grid {
        grid-template-columns: repeat(2, 1fr);
        gap: 10px;
    }
    
    .forest-card {
        padding: 14px;
    }
    
    .forest-card .forest-emoji {
        font-size: 32px;
    }
    
    /* Top bar mobile adjustments */
    .top-bar {
        flex-direction: column;
        gap: 12px;
        align-items: stretch;
    }
    
    .brand-group {
        flex-direction: column;
        gap: 10px;
        align-items: stretch;
    }
    
    .user-info-chip {
        justify-content: center;
        padding: 8px 16px;
    }
    
    /* Modal mobile */
    .modal-card {
        width: 95%;
        padding: 24px 20px;
        max-width: none;
        margin: 20px;
    }
    
    /* Custom select mobile */
    .custom-select {
        width: 100%;
        padding: 10px 14px;
    }
    
    /* Forest controls mobile */
    #gardenTab .custom-select {
        min-width: auto;
        width: 100%;
        margin-bottom: 10px;
    }
}

/* Extra small devices (phones under 400px) */
@media (max-width: 400px) {
    .app {
        padding: 10px;
    }
    
    .tabs {
        grid-template-columns: 1fr;
    }
    
    .timerDisplay {
        font-size: 56px;
        padding: 14px 20px;
    }
    
    .gardenGrid {
        grid-template-columns: 1fr;
    }
    
    .forests-grid {
        grid-template-columns: 1fr;
    }
    
    .stageBox {
        width: 200px;
        height: 200px;
        font-size: 72px;
    }
    
    #line1 {
        font-size: 20px;
    }
    
    #line2 {
        font-size: 40px;
    }
}

/* Tablet adjustments (768px - 980px) */
@media (min-width: 768px) and (max-width: 980px) {
    .grid {
        grid-template-columns: 1fr;
    }
    
    .rightCol {
        order: -1;
    }
    
    .app {
        max-width: 95%;
    }
    
    .timerDisplay {
        font-size: 80px;
    }
}

/* Landscape mode optimization */
@media (max-height: 600px) and (orientation: landscape) {
    .app {
        margin: 10px auto;
    }
    
    .topbar {
        position: relative;
        flex-direction: row;
    }
    
    .tabs {
        grid-template-columns: repeat(4, 1fr);
    }
    
    .timerWrap {
        padding: 16px;
    }
    
    .timerDisplay {
        font-size: 60px;
        padding: 12px 20px;
    }
    
    .gardenGrid {
        grid-template-columns: repeat(4, 1fr);
    }
}

/* Prevent zoom on input for mobile */
@media (max-width: 768px) {
    input, select, textarea {
        font-size: 16px; /* Prevents iOS zoom */
    }
    
    .customInput {
        font-size: 16px;
    }
}

/* Touch-friendly button sizing */
@media (max-width: 768px) {
    button, .btnPrimary, .btnGhost, .preset, .tab {
        min-height: 44px; /* Apple's recommended minimum touch target */
    }
    
    .gardenItem {
        min-height: 100px; /* Larger touch target */
    }
}

/* Smooth transitions for mobile */
@media (max-width: 768px) {
    .card, .gardenItem, .tab, .btnPrimary, .btnGhost {
        transition: all 0.25s ease;
    }
}

/* Fix for iOS Safari */
@supports (-webkit-touch-callout: none) {
    .app {
        min-height: -webkit-fill-available;
    }
    
    html, body {
        height: -webkit-fill-available;
    }
}