/* --------------------------------------------------------------------------
   ARBORIS - THEME V3: BUBBLY, ENGAGING, & POLISHED
   -------------------------------------------------------------------------- */

/* NEW FONT: Quicksand is friendly and round. We'll also keep Playfair for titles. */
@import url('https://fonts.googleapis.com/css2?family=Quicksand:wght@400;600;700&family=Playfair+Display:wght@600&display=swap');

:root{
  /* New Color Palette: Deeper Greens, Warmer Beige */
  --beige-1: #fbf7ec;
  --beige-2: #eef5ea;
  --leaf: #1d5f2f; /* Darker, richer primary green */
  --mint: #7eb38b; /* Calmer, muted accent */
  --muted: #6a7a68;
  --card: rgba(255, 255, 255, 0.95); /* Slightly less transparency */
  --shadow: 0 16px 40px rgba(18, 30, 20, 0.12); /* Thicker, softer shadow */
  --radius: 22px; /* Softer, larger radius for cards */
  --btn-radius: 999px; /* Pill buttons */
  --accent-glow: rgba(126, 179, 139, 0.25);
  --glass: rgba(255, 255, 255, 0.7);
}

/* Reset / base */
*{box-sizing:border-box}
html,body{
  height:100%;
  margin:0;
  /* Use Quicksand for main body text */
  font-family: 'Quicksand', sans-serif, system-ui; 
  color:#15311f;
  -webkit-font-smoothing:antialiased;
  overflow-x: hidden; 
  font-weight: 600; /* Quicksand looks better slightly heavier */

  /* ---------------- POLISHED BACKGROUND ---------------- */
  background-color: var(--beige-1); 
  /* Subtle green-tinted dot pattern for texture */
  background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 100 100"><circle cx="50" cy="50" r="1" fill="%23dce4d9" opacity="0.5"/></svg>'); 
  background-repeat: repeat;
  background-attachment: fixed;
}
a{color:var(--leaf); text-decoration:none}
button{font-family:inherit; border:none}

/* ---------------- LAYOUT & COMPONENTS ---------------- */

/* Layout wrapper */
.app { 
  max-width:1160px; 
  margin:28px auto; 
  padding:18px; 
  /* Add a slight 'lift' to the app content for visual separation */
  transform: translateY(-5px); 
}

/* Top nav (tabs) */
.topbar{ display:flex; align-items:center; justify-content:space-between; gap:12px; position:sticky; top:18px; z-index:20; }
.brand{ display:flex; gap:12px; align-items:center; background:var(--card); padding:10px 14px; border-radius:18px; box-shadow:var(--shadow); }
.logo { width:50px; height:50px; border-radius:12px; background:linear-gradient(135deg,var(--mint),#4CAF50); display:flex; align-items:center; justify-content:center; box-shadow:0 8px 20px rgba(88,160,98,0.1); }
.brand h1{margin:0;font-family:'Playfair Display',serif;font-size:18px; color:var(--leaf)}
.brand p{margin:0;font-size:12px;color:var(--muted)}

/* Tabs - Bolder interaction */
.tabs { display:flex; gap:8px; align-items:center; }
.tab { 
  background:transparent; 
  border-radius:18px; /* Slightly rounder */
  padding:12px 20px; 
  cursor:pointer; 
  font-weight:700; 
  color:var(--muted); 
  border:1px solid transparent; 
  transition:all .3s ease-in-out; 
}
.tab:hover{ color:var(--leaf); background:rgba(255,255,255,0.7); }
.tab.active{ 
  background:var(--card); 
  color:var(--leaf); 
  box-shadow:var(--shadow); 
  border-color: rgba(56,121,79,0.06); 
  transform: translateY(-2px); /* Slight lift */
}

/* Main content card */
.card { 
  background:var(--card); 
  border-radius:var(--radius); 
  padding:26px; 
  margin-top:22px; 
  box-shadow:var(--shadow); 
  transition: box-shadow .3s, transform .2s;
}
.card:hover{ 
  box-shadow: 0 18px 50px rgba(18, 30, 20, 0.15); 
  transform: translateY(-1px); /* Slight lift on hover */
}

/* Layout grid */
.grid { display:grid; grid-template-columns: 1fr 400px; gap:22px; align-items:start; }
@media (max-width:980px){ .grid{ grid-template-columns: 1fr; } .rightCol{ order:-1 } }

/* ---------------- TIMER & CONTROLS POLISH ---------------- */
.timerWrap{ 
  padding:30px; /* More internal padding */
  display:flex; 
  flex-direction:column; 
  align-items:center; 
  gap:18px; /* Increased gap */
  transform: translateY(-3px); /* Subtle lift */
}
.timerTitle{ font-weight:800; font-size:24px; color:var(--leaf); margin:0 }
.timerDisplay{ 
  /* Much larger, more engaging font size */
  font-size: 100px; 
  font-weight:900; 
  color:var(--leaf); 
  background:linear-gradient(180deg,#fff,#f7fff4); 
  padding:20px 40px; 
  border-radius:30px; /* Even rounder */
  box-shadow:0 15px 35px rgba(50,100,60,0.15); /* Richer shadow */
  min-width:280px; 
  text-align:center;
  letter-spacing: -2px;
  border: 4px solid var(--mint); /* Add a border highlight */
}
.progressBarOuter{ 
  width:320px; /* Slightly wider bar */
  height:16px; 
  background:var(--glass); 
  border-radius:var(--btn-radius); 
  overflow:hidden; 
  box-shadow: inset 0 2px 8px rgba(0,0,0,0.05); 
  border:1px solid rgba(0,0,0,0.03) 
}
.progressBarInner{ 
  height:100%; 
  width:0%; 
  background:linear-gradient(90deg,var(--mint),var(--leaf)); 
  transition:width 320ms linear; 
  border-radius:var(--btn-radius);
}

/* Controls */
.controls{ display:flex; gap:16px; align-items:center; margin-top:20px; flex-wrap:wrap; justify-content:center;}
.btnPrimary{ 
  background:linear-gradient(90deg,var(--mint),var(--leaf)); 
  color:#ffffff; /* White text for primary */
  border:none; 
  padding:12px 24px; 
  border-radius:var(--btn-radius); 
  font-weight:800; 
  cursor:pointer; 
  box-shadow:0 15px 40px var(--accent-glow); 
  transition: all .2s;
}
.btnPrimary:hover{ 
  transform: translateY(-2px); 
  box-shadow:0 20px 50px var(--accent-glow); 
  opacity: 0.95;
}
.btnGhost{ 
  background:var(--glass); 
  border:1px solid rgba(21,49,31,0.1); 
  padding:10px 16px; 
  border-radius:16px; 
  cursor:pointer; 
  color:var(--leaf); 
  font-weight:700;
  transition: all .2s;
}
.btnGhost:hover{ background: rgba(255,255,255,0.9); }
.small{ font-size:13px; color:var(--muted) }

/* Presets + custom */
.presetRow{ display:flex; gap:10px; flex-wrap:wrap; justify-content:center; margin-top:10px }
.preset{ 
  padding:10px 16px; 
  border-radius:var(--btn-radius); 
  background:var(--glass); 
  border:1px solid rgba(0,0,0,0.08); 
  cursor:pointer; 
  font-weight:700; 
  color:var(--leaf);
  transition: all .2s;
}
.preset:hover{ background:var(--card); }
.preset.active{ 
  box-shadow:0 10px 30px var(--accent-glow); 
  transform:translateY(-2px); 
  border-color: var(--mint);
  background: linear-gradient(180deg, #fff, #f6fff6);
}
.customInput{ 
  width:140px; 
  padding:12px 14px; 
  border-radius:18px; 
  border:1px solid rgba(0,0,0,0.1); 
  text-align:center; 
  font-weight: 700;
}

/* Stage visual */
.stageBox{ 
  width:260px; /* Larger box */
  height:260px; 
  border-radius:var(--radius); 
  background:linear-gradient(180deg,#fff,#f4fff6); 
  display:flex; 
  align-items:center; 
  justify-content:center; 
  box-shadow:0 15px 40px rgba(0,0,0,0.06); 
  margin-top:10px; 
  font-size:120px; /* Even larger emoji */
}
.stageCaption{ color:var(--muted); margin-top:10px; font-weight:700; font-size:14px; text-align:center; }

/* Right column / forest preview */
.rightCol .card{ padding:20px }
.forestPreview{ display:flex; flex-direction:column; gap:16px; align-items:center }
.gardenGrid{ width:100%; display:grid; grid-template-columns: repeat(3,1fr); gap:12px; }
@media (max-width:480px){ .gardenGrid{ grid-template-columns: repeat(2,1fr); } }
.gardenItem{ 
  background:linear-gradient(180deg,#fff,#f7fff2); 
  border-radius:16px; 
  padding:10px; 
  min-height:100px; 
  display:flex; 
  flex-direction:column; 
  align-items:center; 
  justify-content:center; 
  gap:8px; 
  box-shadow:0 8px 18px rgba(0,0,0,0.05); 
  transition: all .2s;
  cursor: pointer;
}
.gardenItem:hover{ transform: translateY(-3px); box-shadow:0 12px 25px rgba(0,0,0,0.08); }
.gardenPlaceholder{ width:100%; height:60px; border-radius:10px; border:2px dashed rgba(0,0,0,0.06); display:flex; align-items:center; justify-content:center; color:var(--muted); font-weight:700 }

/* Stats page */
.statsGrid{ display:grid; grid-template-columns:repeat(3,1fr); gap:16px; margin-top:16px; }
@media (max-width:820px){ .statsGrid{ grid-template-columns: 1fr; } }
.statCard{ 
  background:linear-gradient(180deg,#fff,#fbfff6); 
  padding:16px; 
  border-radius:16px; 
  box-shadow:0 8px 20px rgba(0,0,0,0.04); 
  text-align:center;
  border: 1px solid rgba(0,0,0,0.03);
}
.statNumber{ font-weight:900; font-size:32px; color:var(--leaf); margin-top:4px; }
.recentList{ margin-top:10px; text-align:left; max-height:200px; overflow-y:auto; padding-right:8px }

/* Story list placeholder */
.storyList{ display:flex; gap:12px; overflow-x:auto; padding:12px; }
.storyCard{ 
  min-width:220px; 
  background:linear-gradient(180deg,#fff,#f6fff2); 
  padding:14px; 
  border-radius:16px; 
  box-shadow:0 12px 30px rgba(18,30,20,0.07);
}

/* small helpers */
.center{ display:flex; align-items:center; justify-content:center }

footer{ margin-top:28px; text-align:center; color:var(--muted); font-size:14px; padding:18px }


/* ---------------- WELCOME OVERLAY STYLES (Updated) ---------------- */

.welcome-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(180deg, var(--beige-1), var(--beige-2));
    z-index: 100;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: opacity 1.5s ease-out;
}

.welcome-overlay.hidden {
    opacity: 0;
    pointer-events: none;
}

.welcome-content {
    text-align: center;
    color: var(--leaf);
    font-weight: 800;
}

.welcome-text-line {
    font-size: 38px; 
    opacity: 0;
    transform: translateY(20px);
    transition: opacity 1s ease-in, transform 1s ease-in;
    margin: 10px 0;
}

/* Line 1: Use Quicksand for the friendly intro */
#line1 {
    font-family: 'Quicksand', sans-serif; 
}

#line1.fade-in {
    opacity: 1;
    transform: translateY(0);
}

/* Line 2: Keep Playfair Display for the stylized main title */
#line2 {
    font-family: 'Playfair Display', serif;
}

#line2.fade-in {
    opacity: 1;
    transform: translateY(0);
    font-size: 96px; 
    letter-spacing: 2px;
}

/* sparklers */
.sparkle{ position:fixed; width:6px; height:6px; border-radius:50%; background:rgba(255,255,255,0.9); pointer-events:none; filter:blur(.2px); z-index:2 }